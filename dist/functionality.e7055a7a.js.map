{"version":3,"sources":["function/functionality.js"],"names":["AddParticipant","document","querySelector","GetName","GetEmail","display","status","ResetList","StartButton","localStorage","getItem","Data","JSON","parse","people","console","log","addEventListener","event","preventDefault","className","innerText","value","length","push","name","email","node","createElement","namenode","emailnode","appendChild","setItem","innerHTML","stringify","SavedData","initialPeople","shuffledPeople","secretSanta","map","shuffle","a","i","j","Math","floor","random"],"mappings":"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","file":"functionality.e7055a7a.js","sourceRoot":"..","sourcesContent":["let AddParticipant = document.querySelector(\"#register-form\");\r\nlet GetName = document.querySelector(\"#participant-name\");\r\nlet GetEmail = document.querySelector(\"#participant-email\");\r\nlet display = document.querySelector(\"#participants-list\");\r\nlet status = document.querySelector(\".status-message\");\r\nlet ResetList = document.querySelector(\".Reset\");\r\nlet StartButton = document.querySelector(\".Start\");\r\n\r\n//check if theres Data in localstorage so we can keep track of previous changes between page reloads\r\nif (localStorage.getItem(\"Data\")) {\r\n  //if there is, use it for Data\r\n  Data = JSON.parse(localStorage.getItem(\"Data\"));\r\n} else {\r\n  //if not initialize data as an empty object\r\n  Data = { people: [] };\r\n}\r\nconsole.log(Data);\r\n\r\nAddParticipant.addEventListener(\"submit\", function(event) {\r\n  //submit pide peticion a los servidores cuando el boton es presionado, para eso se previene con ..\r\n  event.preventDefault();\r\n\r\n  //clear Error Message\r\n  status.className = \"Success\";\r\n  status.innerText = \"Participant Added Successfully\";\r\n\r\n  //ignore incomplete submitions\r\n  if (GetName.value.length < 1 || GetEmail.value.length < 1) {\r\n    status.className = \"Error\";\r\n    status.innerText = \"Please Complete the Form\";\r\n    return;\r\n  }\r\n\r\n  // add to the objetc in the format of\r\n  //DATA = {\r\n  //people : [\r\n  //{name : name, email: email} ]\r\n\r\n  Data.people.push({ name: GetName.value, email: GetEmail.value });\r\n\r\n  //add person to list\r\n  let node = document.createElement(\"Li\");\r\n  let namenode = document.createElement(\"span\");\r\n  let emailnode = document.createElement(\"span\");\r\n\r\n  namenode.className = \"nameNode\";\r\n  emailnode.className = \"emailNode\";\r\n\r\n  namenode.innerText = \"Name : \" + GetName.value;\r\n  emailnode.innerText = \"EMail : \" + GetEmail.value;\r\n  node.appendChild(namenode);\r\n  node.appendChild(emailnode);\r\n  display.appendChild(node);\r\n\r\n  //clears input fields\r\n  GetName.value = \"\";\r\n  GetEmail.value = \"\";\r\n\r\n  //save data\r\n  //para guardar objetos en storage, hacerlos en strings\r\n  localStorage.setItem(\"participants\", display.innerHTML);\r\n  localStorage.setItem(\"Data\", JSON.stringify(Data));\r\n\r\n  //para recuperarlos y obtener el objeto original es con parse.\r\n  //console.log(JSON.parse(localStorage.getItem(\"Data\")));\r\n});\r\n\r\n//reset list\r\n\r\nAddParticipant.addEventListener(\"reset\", function(event) {\r\n  event.preventDefault();\r\n  //clears input fields\r\n  GetName.value = \"\";\r\n  GetEmail.value = \"\";\r\n\r\n  localStorage.setItem(\"participants\", \"\");\r\n  localStorage.setItem(\"Data\", \"\");\r\n  display.innerHTML = \"\";\r\n});\r\n\r\n// check for saved data\r\nlet SavedData = localStorage.getItem(\"participants\");\r\n\r\n//if there are any saved items update list\r\n\r\nif (SavedData) {\r\n  display.innerHTML = SavedData;\r\n}\r\n\r\n// make loop\r\n\r\nlet initialPeople;\r\nlet shuffledPeople;\r\n\r\nlet secretSanta = function() {\r\n  let initialPeople = JSON.parse(localStorage.getItem(\"Data\")).people;\r\n\r\n  console.log(\"initialPeople\");\r\n  console.log(initialPeople);\r\n  shuffledPeople = initialPeople.map(people => {\r\n    return people;\r\n  });\r\n  console.log(\"shuffledPeople\");\r\n  console.log(shuffledPeople);\r\n\r\n  //shuffle the array\r\n  shuffle(initialPeople);\r\n\r\n  //clone the array\r\n  /*-------------------------------\r\n  ERROR\r\n\r\n----------------------------------*/\r\n  //shuffledClone = initialPeople.slice();\r\n  //RecivingPerson = shuffledClone.unshift(shuffledClone.pop());\r\n};\r\n\r\nStartButton.addEventListener(\"click\", function() {\r\n  secretSanta();\r\n\r\n  // for (let i = 0; i < shuffledClone.length; i++) {}\r\n});\r\n\r\nfunction shuffle(a) {\r\n  for (let i = a.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [a[i], a[j]] = [a[j], a[i]];\r\n  }\r\n  return a;\r\n}\r\n"]}